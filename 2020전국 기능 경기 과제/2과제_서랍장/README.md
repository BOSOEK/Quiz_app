# 서랍장
> 과제 기간 : 2020-01-14 ~ 2020-01-15(2일 소요)
> 주행 시간 : 4분 53초 47
***
### 과제
![캡처](https://user-images.githubusercontent.com/68007145/104690228-67298180-5747-11eb-9b8f-637d802d1a7b.PNG)
***
### 맵
![캡처2](https://user-images.githubusercontent.com/68007145/104690465-d010f980-5747-11eb-882a-4162c1f85bf3.PNG)
***
### 소스 코드
```
int areaA[4][4] = {0,};

int puckMove(int color) {
	int puckClear = 0;
	LS();
	for(int i = 0; i< 4; i++) {
		if(areaA[1][i] == color && areaA[0][i] == 1) {
			if(areaA[2][i] == 0) {
				if(i == 0) {
					Line(0, 400, 11, 0, 0, 550, 0, 0);
					LS();
					turn(-1, 30, 11, 90, 0, 0);
					HM(0, 300, 11, 0, 100, 0);
					ping(2);
					HM(0, 300, 11, 0, 200, 0);
					LS();
					Line(0, 300, 11, 0, 0, 500, 0, 0);
					turn(1, 60, 11, 90, 0, 0);
					HM(0, 300, 11, 0, -300, 0);
					LS();
					//체크포인트
					ping(1);

					Line(0, 300, 11, 0, 0, 400, 0, 0);
					turn(1, 200, 11, 50, 0, 0);
					LM(1, 200, 30, 11, 0, 0, 0, 0);
					HM(0, 300, 11, 0, 300, 0); 
					turn(-1, 200, 11, 90, 0, 0);
					LS();
					Line(180, 300, 11, 0, 0, 500, 0, 0);
					LM(2, 200, 50, 11, 0, 0, 0, 0);
					HM(0, 300, 11, 0, -100, 0);
					turn(1, 60, 11, 90, 0, 0);
					LS();
					Line(180, 300, 11, 0, 0, 550, 0, 0);
					LS();
					areaA[2][0] = 1;
				}
				else if(i == 1) {
					Line(0, 300, 11, 0, 0, 850, 0, 0);
					LS();
					ping(2);
					Line(0, 300, 11, 0, 0, 380, 0, 0);
					turn(-1, 200, 11, 50, 0, 0);
					LM(2, 200, 30, 11, 0, 0, 0, 0);
					LS();
					Line(180, 300, 11, 0, 0, 850, 0, 0);
					LS();
					areaA[2][1] = 1;
				}
				else if(i == 2) {
					Line(0, 300, 11, 0, 0, 850, 0, 0);
					LS();
					ping(2);
					Line(0, 300, 11, 0, 0, 380, 0, 0);
					turn(1, 200, 11, 50, 0, 0);
					LM(2, 200, 30, 11, 0, 0, 0, 0);
					LS();
					Line(180, 300, 11, 0, 0, 850, 0, 0);
					LS();
					areaA[2][2] = 1;
				}
				else if(i == 3) {
					Line(0, 400, 11, 0, 0, 550, 0, 0);
					LS();
					turn(1, 30, 11, 90, 0, 0);
					HM(0, 300, 11, 0, -100, 0);
					ping(2);
					HM(0, 300, 11, 0, -200, 0);
					LS();
					Line(0, 300, 11, 0, 0, 500, 0, 0);
					turn(-1, 60, 11, 90, 0, 0);
					HM(0, 300, 11, 0, 250, 0);
					LS();
					//체크포인트
					ping(1);

					Line(0, 300, 11, 0, 0, 400, 0, 0);
					turn(-1, 200, 11, 50, 0, 0);
					LM(1, 200, 30, 11, 0, 0, 0, 0);
					HM(0, 300, 11, 0, -300, 0); 
					turn(1, 200, 11, 90, 0, 0);
					LS();
					Line(180, 300, 11, 0, 0, 500, 0, 0);
					LM(2, 200, 50, 11, 0, 0, 0, 0);
					HM(0, 300, 11, 0, 100, 0);
					turn(-1, 60, 11, 90, 0, 0);
					LS();
					Line(180, 300, 11, 0, 0, 550, 0, 0);
					LS();
					areaA[2][3] = 1;
				}				
				
				puckClear = 1;
				break;
			}
			else if(areaA[2][i] == 1 && areaA[3][i] == 0) {
					if(i == 0) {
						Line(0, 400, 11, 0, 0, 550, 0, 0);
						LS();
						turn(-1, 30, 11, 90, 0, 0);
						HM(0, 300, 11, 0, 300, 0);
						ping(2);
						LS();
						Line(0, 300, 11, 0, 0, 450, 0, 0);
						turn(1, 60, 11, 60, 0, 0);
						LM(2, 200, 40, 11, 0, 0, 0, 0);
						HM(0, 300, 11, 0, -300, 0);
						turn(1, 200, 11, 90, 0, 0);
						LS();
						Line(180, 400, 11, 0, 0, 550, 0, 0);
						LS();	
						areaA[3][0] = 1;
					}
					else if(i == 1) {
						Line(0, 200, 11, 0, 0, 550, 0, 0);
						ping(1);
						Line(0, 200, 11, 0, 0, 300, 0, 0);
						LS();
						turn(-1, 200, 11, 50, 0, 0);
						LM(1, 200, 40, 11, 0, 0, 0, 0);
						LS();
						Line(180, 400, 11, 0, 0, 550, 0, 0);
						LS();
						areaA[3][1] = 1;
					}
					else if(i == 2) {
						Line(0, 200, 11, 0, 0, 550, 0, 0);
						ping(1);
						Line(0, 200, 11, 0, 0, 300, 0, 0);
						LS();
						turn(1, 200, 11, 50, 0, 0);
						LM(1, 200, 40, 11, 0, 0, 0, 0);
						LS();
						Line(180, 400, 11, 0, 0, 550, 0, 0);
						LS();
						areaA[3][2] = 1;
					}
					else if(i == 3) {
						Line(0, 400, 11, 0, 0, 550, 0, 0);
						LS();
						turn(1, 30, 11, 90, 0, 0);
						HM(0, 300, 11, 0, -300, 0);
						ping(2);
						LS();
						Line(0, 300, 11, 0, 0, 450, 0, 0);
						turn(-1, 60, 11, 60, 0, 0);
						LM(2, 200, 40, 11, 0, 0, 0, 0);
						HM(0, 300, 11, 0, 300, 0);
						turn(-1, 200, 11, 90, 0, 0);
						LS();
						Line(180, 400, 11, 0, 0, 550, 0, 0);
						LS();	
						areaA[3][3] = 1;
					}
				
				puckClear = 1;
				break;
			}
		}
	}
	if(puckClear == 0) {
		Line(180, 200, 11, 0, 0, 50, 0, 0);
		turn(1, 300, 100, 85, 0, 0);
		turn(-1, 100, 100, 95, 0, 0);
		LS();
		Line(180, 200, 11, 0, 0, 200, 0, 0);
		Line(0, 200, 11, 0, 0, 250, 0, 0);
		LS();
	}
	

}

void LS()
{
    if (S&8) return;
    if (S&0x24) Hm(-90,100,10,0,0,3,8,0,0,0);
    else if (S&0x50) Hm(90,100,10,0,0,3,8,0,0,0);
    else 
    {
        HM(90,500,11,70,0,0);
        Hm(-90,100,10,0,0,3,8,0,0,0);
    }
    StopMotion(9);
}

void M1()
{//운행 시간 4분 53초 47
	int color[4];
	int puck;

	FCC(1, 2, 8, 100);
	//바코드 인식
	Pm(0, 0, 1, 100, 250, 11, 0, 0, 800, 250, 0);
	//색깔 출력
	for(int i = 0; i < 4; i++) {
		if(bar[i] == 1) {
			areaA[0][i] = 0;
		}
		else if(bar[i] == 2) {
			areaA[0][i] = 1;
		}
		dc(i, 0, areaA[0][i]);
	}
	TD(0, 300, 11, -10, -100, -90, 0);
	FCC(1, 2, 0, 0);
	HM(0, 400, 11, 600, 0, 0);
	Line(0, 550, 11, 0, 0, 2200, 0, 0);
	//A구역 시트지 색깔 인식
	turn(-1, 200, 11, 30, 0, 0);
	V1(1,0,0,0,0,200,0,320,0,0,0);
	color[0] = C_D[0][0];
	color[1] = C_D[1][0];
	turn(1, 200, 11, 60, 0, 0);
	V1(1,1,0,0,0,200,0,320,0,0,0);
	color[3] = C_D[0][0];
	color[2] = C_D[1][0];
	for(int i = 0; i< 4; i++) {
		areaA[1][i] = color[i];
		dc(i, 5, areaA[1][i]);
	}
	turn(-1, 200, 11, 30, 0, 0);
	//퍽 운반
	Line(180, 500, 11, 0, 0, 900, 0, 0);
	for(int i = 0; i< 4; i++) {
		Line(180, 600, 11, 0, 0, 600, 0, 0);
		Line(180, 400, 11, 0, 0, 260*i, 0, 0);
		turn(-1, 150, 11, 90, 0, 0);
		LS();
		V1(1,1,0,0,0,200,0,320,0,0,0);
		puck = C_D[0][0];
		dc(0, 10, puck);
		Line(0, 60, 10, 0, 0, 300, 0, 0);
		turn(1, 60, 11, 90, 0, 0);
		HM(0, 200, 11, 0, 300, 0);
		LS();
		Line(0, 400, 11, 0, 0, 260*i, 0, 0);
		Line(0, 600, 11, 0, 0, 600, 0, 0);
		LS();
		puckMove(puck);
	}
	for(int i = 3; i>=0;i--) {
		Line(180, 600, 11, 0, 0, 600, 0, 0);
		Line(180, 400, 11, 0, 0, 260*i, 0, 0);
		turn(1, 150, 11, 90, 0, 0);
		LS();
		V1(1,1,0,0,0,200,0,320,0,0,0);
		puck = C_D[0][0];
		dc(0, 10, puck);
		Line(0, 60, 10, 0, 0, 300, 0, 0);
		turn(1, 60, 11, 180, 0, 0);
		Line(0, 200, 11, 0, 0, 300, 0, 0);
		turn(1, 60, 11, 90, 0, 0);
		LS();
		Line(0, 400, 11, 0, 0, 260*i, 0, 0);
		Line(0, 600, 11, 0, 0, 600, 0, 0);
		LS();
		puckMove(puck);
	}
	Line(180, 650, 11, 0, 0, 1380, 0, 0);
	LS();
	HM(0, 400, 11, -500, 750, 0);
	Buzz(10);
}
```

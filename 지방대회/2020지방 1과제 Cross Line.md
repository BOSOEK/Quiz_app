# Cross Line
> 과제 기간 : 2021-01-19 ~ 2021-01-21(3일 소요), 주행 시간 : 2분 1초 98
***
### 과제
![과제](https://user-images.githubusercontent.com/68007145/105293791-89fede80-5bfc-11eb-88b8-6cd0c170e13c.PNG)
***
### 맵
![맵](https://user-images.githubusercontent.com/68007145/105294647-c5011200-5bfc-11eb-8806-13e021427993.PNG)
***
### 소스코드
```
FCC(1, 2, 8, 120);
Pm(0, 1, 1, 0, 500, 11, 0, 0, 1000, 200, 0);
int Tcolor[3]; //T-1구역의 색 저장
if(bar[0] == 1) {
  Tcolor[0] = 2;
}
else {
  Tcolor[0] = 1;
}
for(int i = 0; i<3;i++) {
  Tcolor[i] = bar[i];
  dc(i, 0, Tcolor[i]);
}
FCC(1, 1, 0, 0);
//T-2 인식
V1(1, 1, 0, 0, 0, 200, 0, 320, 0, 0, 0);
int towColor[4];  //T-2 구역의 색 저장
towColor[1] = C_D[0][0];
towColor[0] = C_D[1][0];
towColor[2] = C_D[2][0];
towColor[3] = C_D[3][0];
for(int i=0;i<4;i++) {
  dc(i, 5, towColor[i]);
}
TD(0, 200, 11, 0, -50, -90, 0);
FCC(1, 2, 1, 100);
TD(0, 350, 11, 350, 170, 90, 0);
V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(towColor[0] == C_D[0][0]) {
  ping(1);
  V1(0, 0, 0, 0, 0, 200, 0, 320, 140, 150, 3);
  HM(0, 200, 11, 50, 0, 0);
  LM(1, 200, 100, 11, 0, 0, 0, 0);
}
TD(0, 350, 11, -170, 350, -90, 0);
FCC(1, 2, 1, 100);
//A1 끝
HM(0, 600, 10, 900, 0, 0);
TD(0, 400, 01, 400, 480, 180, 0);
FCC(1, 0, 0, 0);
V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(towColor[2] == C_D[0][0]) {
  ping(1);
  V1(0, 0, 0, 0, 0, 200, 0, 320, 140, 150, 3);
  HM(0, 200, 11, 50, 0, 0);
  LM(1, 200, 100, 11, 0, 0, 0, 0);
  FCC(1, 0, 0, 0);
}
TD(0, 200, 11, 50, 50, 90, 0);
FCC(1, 2, 8, 100);
//A3 끝
//B구역 퍽 처리
TD(0, 450, 11, 450, -200, 90, 0);
ping(1);
V1(1, 1, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(C_D[0][0] == Tcolor[0]) {
  V1(0, 1, 0, 0, 0, 200, 0, 320, 140, 150, 3);
  HM(0, 200, 11, 50, 0, 0);
  LM(1, 200, 100, 11, 0, 0, 0, 0);
}
HM(0, 450, 11, 0, -500, 0);
ping(1);
V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(C_D[0][0] == Tcolor[0]) {
  V1(0, 0, 0, 0, 0, 200, 0, 320, 140, 150, 3);
  HM(0, 200, 11, 50, 0, 0);
  LM(1, 200, 100, 11, 0, 0, 0, 0);
}
TD(0, 650, 11, 0, 850, -90, 0);
FCC(1, 2, 8, 100);
//A3 끝

HM(0, 500, 10, 800, -250, 0);
HM(0, 500, 01, 350, -270, 0);
ping(1);
turn(1, 200, 11, 25, 0, 0);
V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(towColor[1] == C_D[0][0]) {
  V1(0, 0, 0, 0, 0, 200, 0, 320, 140, 150, 3);
  HM(0, 200, 11, 50, 0, 0);
}
turn(-1, 200, 11, 25, 0, 0);
LM(1, 200, 100, 11, 0, 0, 0, 0);
HM(0, 450, 11, -350, 270, 0);
//A2 끝
//HM(0, 350, 10, 200, 255, 0);
HM(0, 300, 11, 50, 250, 0);
FCC(1, 1, 0, 0);
ping(1);
HM(0, 400, 11, 400, 30, 0);
V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(towColor[3] == C_D[0][0]) {
  V1(0, 0, 0, 0, 0, 200, 0, 320, 140, 150, 3);
  HM(0, 200, 11, 50, 0, 0);
}
LM(1, 250, 100, 11, 0, 0, 0, 0);
FCC(1, 1, 0, 0);
//A4 끝
ping(1);
HM(0, 650, 11, -800, -220, 0);
FCC(1, 2, 0, 0);
TD(0, 100, 11, 0, 50, 90, 0);
FCC(1, 1, 0, 0);
Pm(0, 1, 1, 0, 350, 11, 0, 0, 350, 0, 0);
if(FLine == Tcolor[1]) {
  //t2 색과 바닥 색이 같으면
  Pm(0, 1, 1, 0, 650, 11, 0, 0, 650, 0, 0);
  TD(0, 350, 11, 150, -50, -90, 0);
  FCC(1, 2, 6, 195);
  ping(1);
  HM(0, 300, 11, 250, 0, 0);
  if(FLine == Tcolor[2]) {
    HM(180, 200, 11, 100, 0, 0);
    V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
    LM(1, 200, 100, 11, 0, 0, 0, 0);
    FCC(1, 2, 6, 195);
    if(C_D[0][0] == Tcolor[0]) {
      HM(0, 200, 11, 150, 0, 0);
      TD(0, 200, 11, 300, 0, -89, 0);
      HM(90, 150, 11, 260, 0, 0);
      LM(1, 250, 30, 11, 0, 0, 0, 0);
      FCC(1, 2, 6, 195);
    }
    else {
      HM(0, 400, 11, 700, 10, 0);
      FCC(1, 1, 0, 0);
      TD(0, 200, 11, 250, 0, -90, 0);
      HM(270, 200, 11, 160, -10, 0);
      turn(1, 100, 11, 90, 0, 0);
      HM(0, 200, 11, -50, 0, 0);
      FCC(1, 1, 0, 0);
      HM(0, 350, 11, -700, -20, 0);
      FCC(1, 2, 6, 195);
    }
    TD(0, 300, 11, 300, 30, 90, 0);
    TD(0, 400, 11, 530, -10, -90, 0);
    HM(0, 400, 11, 400, 0, 0);
    FCC(1, 0, 0, 0);
  }
  else {
    HM(0, 300, 11, -250, 0, 0);
    FCC(1, 2, 6, 195);
    TD(0, 300, 11, 300, 30, 90, 0);
    TD(0, 400, 11, 530, -10, -90, 0);
    HM(0, 400, 11, 400, 0, 0);
    FCC(1, 0, 0, 0);
    HM(0, 300, 11, 320, 0, 0);
    TD(0, 300, 11, 200, -145, -90, 0);
    TD(0, 400, 11, 420, 0, -90, 0);
    HM(0, 300, 11, -200, 30, 0);
    FCC(1, 2, 3, 195);
    ping(1);
    HM(0, 350, 11, 220, 0, 0);
    turn(1, 100, 11, 10, 0, 0);
    V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
    LM(1, 200, 100, 11, 0, 0, 0, 0);
    FCC(1, 2, 3, 195);
    ping(1);
    if(C_D[0][0] == Tcolor[0]) {
      HM(0, 500, 11, 700, 0, 0);
      FCC(1, 0, 0, 0);
      TD(0, 200, 11, 220, 0, 90, 0);
      HM(90, 200, 11, 110, 0, 0);
      turn(-1, 100, 11, 90, 0, 0);
      HM(0, 200, 11, -50, 20, 0);
      FCC(1, 0, 0, 0);
      LM(1, 500, 100, 11, 0, 0, 0, 0);
      FCC(1, 2, 3, 195);
    }
    else {
      HM(0, 300, 11, 250, 0, 0);
      TD(0, 200, 11, 250, -20, 95, 0);
      HM(270, 200, 11, 220, 0, 0);
      LM(1, 400, 50, 11, 0, 0, 0, 0);
      FCC(1, 2, 3, 195);
    }		
    TD(0, 250, 11, 260, -50, -91, 0);
    HM(0, 300, 10, 250, 10, 0);
    HM(0, 300, 01, 350, 160, 0);
    TD(0, 350, 11, -80, 375, -90, 0);
    FCC(1, 0, 0, 0);
  }
}
else {
  Pm(180, 1, 1, 0, 350, 11, 0, 0, 350, 0, 0);
  FCC(1, 1, 0, 0);
  TD(0, 300, 11, 150, -20, -90, 0);
  FCC(1, 2, 8, 100);
  HM(0, 600, 11, 850, -30, 0);
  FCC(1, 1, 0, 0);
  HM(0, 400, 10, 400, 10, 0);
  TD(0, 350, 01, 250, 30, 90, 0);
  HM(0, 300, 11, 200, 30, 0);
  FCC(1, 0, 0, 0);
  Pm(0, 1, 0, 0, 400, 11, 0, 0, 400, 0, 0);
  TD(0, 400, 11, 250, 50, 90, 0);
  FCC(1, 2, 3, 195);	
  ping(1);
  //체크포인트
  HM(0, 350, 11, 220, 0, 0);
  if(FLine == Tcolor[2]) {
    turn(1, 100, 11, 10, 0, 0);
    V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
    LM(1, 200, 100, 11, 0, 0, 0, 0);
    FCC(1, 2, 3, 195);
    ping(1);
    if(C_D[0][0] == Tcolor[0]) {
      HM(0, 500, 11, 700, 0, 0);
      FCC(1, 0, 0, 0);
      TD(0, 200, 11, 220, 0, 90, 0);
      HM(90, 200, 11, 110, 0, 0);
      turn(-1, 100, 11, 90, 0, 0);
      HM(0, 200, 11, -50, 20, 0);
      FCC(1, 0, 0, 0);
      LM(1, 500, 100, 11, 0, 0, 0, 0);
      FCC(1, 2, 3, 195);
    }
    else {
      HM(0, 300, 11, 250, 0, 0);
      TD(0, 200, 11, 250, -20, 95, 0);
      HM(270, 200, 11, 220, 0, 0);
      LM(1, 400, 50, 11, 0, 0, 0, 0);
      FCC(1, 2, 3, 195);
    }
    TD(0, 300, 11, 270, -35, -93, 0);
    HM(0, 400, 10, 400, 50, 0);
    HM(0, 400, 01, 200, 160, 0);
    TD(0, 300, 11, -80, 335, -90, 0);
    FCC(1, 0, 0, 0);
  }
  else {
    HM(0, 350, 11, -220, 0, 0);
    FCC(1, 2, 3, 195);
    TD(0, 300, 11, 270, -35, -93, 0);
    HM(0, 400, 10, 400, 50, 0);
    HM(0, 400, 01, 200, 160, 0);
    TD(0, 300, 11, -80, 335, -90, 0);
    FCC(1, 0, 0, 0);
    HM(0, 350, 11, -410, 0, 0);
    TD(270, 300, 11, 500, -20, 90, 0);
    TD(0, 300, 11, -100, 300, -90, 0);
    FCC(1, 2, 6, 195); 
    ping(1);
    HM(0, 200, 11, 150, 0, 0);
    V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
    LM(1, 200, 100, 11, 0, 0, 0, 0);
    FCC(1, 2, 6, 195);
    if(C_D[0][0] == Tcolor[0]) {
      HM(0, 200, 11, 150, 0, 0);
      TD(0, 200, 11, 300, 0, -89, 0);
      HM(90, 150, 11, 260, 0, 0);
      LM(1, 250, 30, 11, 0, 0, 0, 0);
      FCC(1, 2, 6, 195);
    }
    else {
      HM(0, 400, 11, 700, 10, 0);
      FCC(1, 1, 0, 0);
      TD(0, 200, 11, 250, 0, -90, 0);
      HM(270, 200, 11, 160, -10, 0);
      turn(1, 100, 11, 90, 0, 0);
      HM(0, 200, 11, -50, 0, 0);
      FCC(1, 1, 0, 0);
      HM(0, 350, 11, -700, -20, 0);
      FCC(1, 2, 6, 195);
    }
    TD(0, 300, 11, 300, 30, 90, 0);
    TD(0, 400, 11, 530, -10, -90, 0);
    HM(0, 400, 11, 400, 0, 0);
    FCC(1, 0, 0, 0);
  }

}

//D구역 퍽들 정리
V1(1,0,0,0,0,200,0,320,0,0,0);
if(C_D[0][0]==Tcolor[0]){
  HM(0, 350, 10, 310, 0, 0);
  HM(0, 350, 01, 170, -110, 0);
  ping(1);
  V1(0, 0, 0, 0, 0, 200, 0, 320, 140, 150, 3);
  HM(0, 200, 11, 50, 0, 0);
  LM(1, 350, 100, 11, 0, 0, 0, 0);
  HM(0, 350, 10, -170, 110, 0);
  HM(0, 350, 01, -310, -15, 0);
  FCC(1, 0, 0, 0);
}
TD(0, 350, 11, 265, 0, 90, 0);
TD(0, 350, 11, 380, -20, -90, 0);
FCC(1, 2, 1, 180);
V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(C_D[0][0] == Tcolor[0]) {
  HM(0, 350, 11, 90, -25, 0);
  HM(0, 350, 11, -90, 25, 0);
  FCC(1, 2, 1, 180);
}
TD(0, 350, 11, -10, -300, 90, 0);
Pm(0, 2, 2, 140, 300, 11, 0, 0, 500, 0, 0);
FCC(1, 1, 0, 0); 
ping(1);
TD(0, 250, 11, 110, -40, -90, 0);
ping(2);
V1(1, 1, 0, 0, 0, 200, 0, 320, 0, 0, 0);
if(C_D[0][0] == Tcolor[0]) {
  HM(0, 200, 10, 10, 80, 0);
  HM(0, 200, 01, 60, 20, 0);
  HM(0, 200, 10, -60, -20, 0);
  HM(0, 200, 01, -10, -80, 0);
}
LM(1, 200, 100, 11, 0, 0, 0, 0);
FCC(1, 1, 0, 0);
turn(-1, 100, 11, 20, 0, 0);
Pm(4, 2, 2, 140, 350, 10, 0, 0, 600, 0, 0);
TD(20, 350, 01, -10, 350, -70, 0);
FCC(1, 0, 0, 0);
TD(0, 300, 11, -300, 160, -90, 0);
HM(0, 350, 11, -600, 50, 0);
FCC(1, 2, 8, 100);
//D구역 퍽 정리 끝

turn(-1, 100, 11, 40, 0, 0);
V1(1, 0, 0, 0, 0, 200, 0, 320, 0, 0, 0);
turn(1, 100, 11, 40, 0, 0);
FCC(1, 2, 8, 100);
int red = 0, blue = 0;
for(int i= 0; i<3; i++) {
  if(C_D[i][0] == 1) {
    red++;
  }
  else {
    blue++;
  }
}
if(red>blue) {
  HM(0, 550, 10, 500, 0, 0);
  HM(0, 550, 01, 350, -150, 0);
  TD(0, 300, 11, -90, -300, 90, 0);
  FCC(1, 2, 0, 0);
}
else {
  TD(0, 450, 11, -50, -480, 90, 0);
  FCC(1, 2, 0, 0);
}
//부저 울리기
PORTB|=0x08;
_delay_ms(2000);
PORTB&=~0x08;
//2분 1초 98
```
